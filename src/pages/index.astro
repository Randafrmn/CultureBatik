---
import BaseLayout from '../layouts/BaseLayout.astro';
import Fact from '../components/Fact.astro';
import Hero from '../components/Hero.astro';
import MotifBatik from '../components/MotifBatik.astro';
import Carousel from '../components/Carousel.astro';
import AccordionCommunity from '../components/AccordionCommunity.astro';
import Modal from '../components/Modal.astro';
import '../styles/global.css';
---

<BaseLayout>

	<Hero />

	<Fact />

	<div id="historyPage" class="container mx-auto px-6 py-8 my-28 bg-[#F4F0EC] rounded-3xl">
		<div class="flex flex-col md:flex-row items-center justify-between">
			<div class="md:w-6/12 mb-6 md:mb-0">
				<h2 class="font-bold text-7xl md:text-7xl mb-4">Sejarah <br> Singkat Batik</h2>
				<p class="text-base mb-4 md:text-lg">Batik adalah salah satu warisan budaya Indonesia yang paling terkenal di dunia. Kata "batik" berasal dari bahasa Jawa, yaitu "amba" yang berarti menulis dan "titik" yang berarti titik. Batik merujuk pada teknik pembuatan kain dengan menggunakan malam (lilin) untuk melindungi bagian-bagian tertentu dari kain saat dicelup ke dalam pewarna.</p>
				<button type="button" class="bg-[#292F36] hover:bg-[#F9B208] transition duration-300 ease-in-out text-white font-bold py-2 px-4 rounded-xl w-32 h-11">More</button>
			</div>
			<div class="md:w-5/12 flex justify-end">
				<img src="/img/TesItemBatik.png" class="sectionPicture1" alt="">
			</div>
		</div>
	</div>

	<div class="container mx-auto px-6 my-28">
		<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
			<div class="relative">
				<img id="detail-image" class="detail-image md:w-5/12 rounded-3xl object-cover" src="/img/Carousel1.png" alt="Detail Image">
			</div>
			<div class="list-group">
				<a class="block py-3 px-5 hover:bg-gray-100 transition duration-300 ease-in-out rounded-lg shadow-md border border-gray-200 cursor-pointer" data-target="detail-1" data-image="/img/Carousel1.png" data-info="Perkembangan awal batik merupakan bagian penting dalam sejarah batik, menandai awal dari keberadaannya sebagai warisan budaya yang kaya dan berharga. Pada awalnya, batik telah menjadi bagian integral dari kehidupan masyarakat di berbagai daerah di Indonesia.">01. Perkembangan Awal</a>
				<a class="block py-3 px-5 hover:bg-gray-100 transition duration-300 ease-in-out rounded-lg shadow-md border border-gray-200 cursor-pointer" data-target="detail-2" data-image="/img/Carousel2.png" data-info="Details about .">02. Masa Kolonial</a>
				<a class="block py-3 px-5 hover:bg-gray-100 transition duration-300 ease-in-out rounded-lg shadow-md border border-gray-200 cursor-pointer" data-target="detail-3" data-image="/img/Carousel3.png" data-info="Details about .">03. Batik Pekalongan</a>
				<a class="block py-3 px-5 hover:bg-gray-100 transition duration-300 ease-in-out rounded-lg shadow-md border border-gray-200 cursor-pointer" data-target="detail-4" data-image="/img/Carousel1.png" data-info="Details about .">04. Modernisasi dan Pengakuan Dunia</a>
				<a class="block py-3 px-5 hover:bg-gray-100 transition duration-300 ease-in-out rounded-lg shadow-md border border-gray-200 cursor-pointer" data-target="detail-5" data-image="/img/Carousel2.png" data-info="Details about .">05. Batik Kontemporer</a>
			</div>
		</div>
	</div>
	
	<MotifBatik />
	
	<Carousel />

	<AccordionCommunity />

	<div class="container mx-auto">
		<div class="flex justify-center items-center my-24">
			<div class="flex flex-col justify-center items-center bg-[#292F36] w-3/4 h-60 gap-4 p-6 rounded-3xl">
				<h1 class="text-3xl text-white font-display">Gabung Komunitas Kami?</h1>
				<p class="text-lg text-white font-display">Temukan Manfaat Bergabung dengan Komunitas Kami</p>
				<a href="#" class="bg-[#CDA274] hover:bg-[#ffffff] transition duration-300 ease-in-out text-white hover:text-black font-bold py-2 px-4 rounded-xl w-32 h-11 flex items-center justify-center font-sans">Join Us</a>
			</div>
		</div>
	</div>

	<Modal />
	
</BaseLayout>

<script>
	document.querySelectorAll('.block').forEach(item => {
		item.addEventListener('mouseenter', () => {
			const detailImage = document.getElementById('detail-image') as HTMLImageElement;
			const imageSrc = item.getAttribute('data-image');

			if (imageSrc) {
            detailImage.src = imageSrc;
            detailImage.classList.add('active');
        	}

			// Remove any existing additional info
			document.querySelectorAll('.additional-info').forEach(info => info.remove());

			// Create and insert new additional info
			const additionalInfo = document.createElement('div');
			additionalInfo.classList.add('additional-info');
	        const infoText = item.getAttribute('data-info');

			if (infoText) {
            additionalInfo.textContent = infoText;
       		}

			item.insertAdjacentElement('afterend', additionalInfo);
			additionalInfo.style.display = 'block';
		});

		item.addEventListener('mouseleave', () => {
			document.querySelectorAll('.additional-info').forEach(info => info.remove());
		});
	});
</script>
